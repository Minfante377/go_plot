<!doctype html>
<html lang="en">
	<head>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="generator" content="Jekyll v4.1.1">
		<!-- Bootstrap core CSS -->
		<link href="../css/bootstrap.min.css" rel="stylesheet">

		<style>
.bd-placeholder-img {
	font-size: 1.125rem;
	text-anchor: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

					@media (min-width: 768px) {
						.bd-placeholder-img-lg {
							font-size: 3.5rem;
						}
					}
		</style>
		<!-- Custom styles for this template -->
		<link href="dashboard.css" rel="stylesheet">
	</head>
	<body>
		<a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">Go Plot!</a>
		<button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="container-fluid">
			<div class="row">
				<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
					<div class="sidebar-sticky pt-3">
						<ul class="nav flex-column">
							<li class="nav-item">
								<label for="title">Title:</label>
								<input type="text" id="title" name="title"><br><br>
							</li>
							<li class="nav-item">
								<label for="delimiter">Delimiter:</label>
								<input type="text" id="delimiter" name="delimiter"><br><br>
							</li>
							<li class="nav-item">
								<label for="charts">Choose a chart:</label>
							</li>
							<li class="nav-item">
								<select name="chartType" id="type" multiple>
									<option value="0">Bar</option>
								</select>
							</li>
							<li class="nav-item">
								<label for="myfile">Select a CSV file:</label>
								<input type="file" id="csvfile" name="myfile">
								<li class="nav-item">
									<button type="button" id="plotButton" class="btn btn-sm btn-outline-secondary">Plot!</button>

									<script>
										const button = document.getElementById('plotButton');


button.addEventListener('click', async _ => {
	try {   
		var path = document.getElementById('csvfile').value;
		var plotType = document.getElementById('type').value;
		var title = document.getElementById('title').value;
		var delimiter = document.getElementById('delimiter').value;

		var body = {
			"Path":path,
			"PlotType":plotType,
			"Title":title,
			"Delimiter":delimiter
		};
		const response = await fetch('/plot/', {
			method: "post",
			headers: {"content-type": "application/json"},
			body:JSON.stringify(body)
		});
		console.log(body);
		console.log('Completed!', response);
	} catch(err) {
		console.error(`Error: ${err}`);
	}
});
									</script>
								</li>
								<h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
				</nav>

				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
				<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
					<h1 class="h2">Your Plot!</h1>
					<div class="btn-toolbar mb-2 mb-md-0">
					</div>
				</div>
				<canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>
				</main>
					</div>
			</div>
			<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
			<script src="dashboard.js"></script></body>
</html>
